---
import RoadAnimation from "../components/RoadAnimation.jsx";
import MainLayout from "../layouts/MainLayout.astro";
---

<RoadAnimation client:load />

<MainLayout>
  <div
    class="landing-container"
    style="flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:0;"
  >
    <div
      style="display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;"
    >
      <!-- Animated GIF with invert for dark mode -->
      <img
        src="/site_icons/solidsnakegbc.gif"
        alt="Running Snake"
        style="display:block;filter:invert(1);margin-bottom:2.5rem;max-width:100%;height:auto;"
      />
      <!-- Socials: rebuilt to match screenshot exactly -->
      <div
        class="socials"
        style="display:flex;gap:2.1rem;justify-content:center;margin-bottom:2.2rem;align-items:center;"
      >
        <!-- GitHub -->
        <a
          href="https://github.com/dotMavriQ"
          target="_blank"
          rel="noopener noreferrer"
          aria-label="GitHub"
          class="social-icon"
        >
          <svg
            class="social-svg"
            width="36"
            height="36"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill="#ebdbb2"
              d="M10.9,2.1c-4.6,0.5 -8.3,4.2 -8.8,8.7c-0.5,4.7 2.2,8.9 6.3,10.5c0.3,0.1 0.6,-0.1 0.6,-0.5v-1.6c0,0 -0.4,0.1 -0.9,0.1c-1.4,0 -2,-1.2 -2.1,-1.9c-0.1,-0.4 -0.3,-0.7 -0.6,-1c-0.3,-0.1 -0.4,-0.1 -0.4,-0.2c0,-0.2 0.3,-0.2 0.4,-0.2c0.6,0 1.1,0.7 1.3,1c0.5,0.8 1.1,1 1.4,1c0.4,0 0.7,-0.1 0.9,-0.2c0.1,-0.7 0.4,-1.4 1,-1.8c-2.3,-0.5 -4,-1.8 -4,-4c0,-1.1 0.5,-2.2 1.2,-3c-0.1,-0.2 -0.2,-0.7 -0.2,-1.4c0,-0.4 0,-0.9 0.2,-1.3c0,-0.2 0.2,-0.3 0.3,-0.3h0.1c0.5,0.1 1.5,0.4 2.4,1.3c0.6,-0.2 1.3,-0.3 2,-0.3c0.7,0 1.4,0.1 2,0.3c0.9,-0.9 2,-1.2 2.5,-1.3h0.1c0.2,0 0.3,0.1 0.4,0.3c0,0.4 0,0.9 0,1.3c0,0.8 -0.1,1.2 -0.2,1.4c0.7,0.8 1.2,1.8 1.2,3c0,2.2 -1.7,3.5 -4,4c0.6,0.5 1,1.4 1,2.3v2.6c0,0.3 0.3,0.6 0.7,0.5c3.7,-1.5 6.3,-5.1 6.3,-9.3c0,-6 -5.1,-10.7 -11.1,-10z"
            ></path>
          </svg>
        </a>
        <!-- LinkedIn -->
        <a
          href="https://www.linkedin.com/in/janssonjonatan"
          target="_blank"
          rel="noopener noreferrer"
          aria-label="LinkedIn"
          class="social-icon"
        >
          <svg
            class="social-svg"
            width="36"
            height="36"
            viewBox="0 0 44 44"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill="#ebdbb2"
              d="M41,4h-32c-2.76,0 -5,2.24 -5,5v32c0,2.76 2.24,5 5,5h32c2.76,0 5,-2.24 5,-5v-32c0,-2.76 -2.24,-5 -5,-5zM17,20v19h-6v-19zM11,14.47c0,-1.4 1.2,-2.47 3,-2.47c1.8,0 2.93,1.07 3,2.47c0,1.4 -1.12,2.53 -3,2.53c-1.8,0 -3,-1.13 -3,-2.53zM39,39h-6c0,0 0,-9.26 0,-10c0,-2 -1,-4 -3.5,-4.04h-0.08c-2.42,0 -3.42,2.06 -3.42,4.04c0,0.91 0,10 0,10h-6v-19h6v2.56c0,0 1.93,-2.56 5.81,-2.56c3.97,0 7.19,2.73 7.19,8.26z"
            ></path>
          </svg>
        </a>
        <!-- YouTube -->
        <a
          href="https://www.youtube.com/@dotmavriq/videos"
          target="_blank"
          rel="noopener noreferrer"
          aria-label="YouTube"
          class="social-icon"
        >
          <svg
            class="social-svg"
            width="36"
            height="36"
            viewBox="0 0 30 30"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill="#ebdbb2"
              d="M15,4c-4.186,0 -9.61914,1.04883 -9.61914,1.04883l-0.01367,0.01563c-1.90652,0.30491 -3.36719,1.94317 -3.36719,3.93555v6v0.00195v5.99805v0.00195c0.00384,1.96564 1.4353,3.63719 3.37695,3.94336l0.00391,0.00586c0,0 5.43314,1.05078 9.61914,1.05078c4.186,0 9.61914,-1.05078 9.61914,-1.05078l0.00195,-0.00195c1.94389,-0.30554 3.37683,-1.97951 3.37891,-3.94727v-0.00195v-5.99805v-0.00195v-6c-0.00288,-1.96638 -1.43457,-3.63903 -3.37695,-3.94531l-0.00391,-0.00586c0,0 -5.43314,-1.04883 -9.61914,-1.04883zM12,10.39844l8,4.60156l-8,4.60156z"
            ></path>
          </svg>
        </a>
        <!-- Matrix -->
        <a
          href="https://matrix.to/#/@dotmavriq:chat.dotmavriq.life"
          target="_blank"
          rel="noopener noreferrer"
          aria-label="Matrix"
          class="social-icon"
        >
          <svg
            class="social-svg"
            width="36"
            height="36"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path fill="#ebdbb2" d="M6,5h-2v14h2"></path>
            <path fill="#ebdbb2" d="M18,19h2v-14h-2"></path>
            <path
              fill="#ebdbb2"
              d="M16.975,15h-1.804v-4.152c-0.042,-0.622 -0.327,-0.939 -0.899,-1.001c-0.648,-0.071 -1.126,0.217 -1.274,0.805c-0.066,0.262 -0.092,0.539 -0.095,0.81c-0.011,1.05 -0.005,3.523 -0.005,3.523h-1.81c0,0 -0.002,-3.908 -0.007,-4.034c-0.03,-0.724 -0.309,-1.058 -0.922,-1.108c-0.644,-0.052 -1.184,0.336 -1.316,0.964c-0.043,0.205 -0.052,0.418 -0.053,0.627c-0.005,1.175 -0.002,3.554 -0.002,3.554h-1.788v-6.347h1.682c0,0 0,0.491 0,0.838c0.568,-0.678 1.201,-1.049 2.019,-1.036c0.807,0.014 1.514,0.221 1.905,0.998c0.257,-0.219 0.48,-0.447 0.74,-0.626c1.077,-0.739 2.857,-0.386 3.389,0.681c0.137,0.275 0.233,0.6 0.239,0.903c0.029,1.482 0.001,4.601 0.001,4.601z"
            ></path>
          </svg>
        </a>
        <!-- Fediverse -->
        <a
          href="https://social.dotmavriq.life/users/dotmavriq"
          target="_blank"
          rel="noopener noreferrer"
          aria-label="Fediverse"
          class="social-icon"
        >
          <svg
            class="social-svg fediverse-svg"
            width="36"
            height="36"
            viewBox="0 0 1024 1024"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill="#ebdbb2"
              d="M539 176q-32 0 -55 22t-25 55t20.5 58t56 27t58.5 -20.5t27 -56t-20.5 -59t-56.5 -26.5h-5zM452 271l-232 118q20 20 25 48l231 -118q-19 -20 -24 -48zM619 298q-13 25 -38 38l183 184q13 -25 39 -38zM477 320l-135 265l40 40l143 -280q-28 -5 -48 -25zM581 336 q-22 11 -46 10l-8 -1l21 132l56 9zM155 370q-32 0 -55 22.5t-25 55t20.5 58t56.5 27t59 -21t26.5 -56t-21 -58.5t-55.5 -27h-6zM245 438q1 9 1 18q-1 19 -10 35l132 21l26 -50zM470 474l-26 51l311 49q-1 -8 -1 -17q1 -19 10 -36zM842 480q-32 1 -55 23t-24.5 55t21 58 t56 27t58.5 -20.5t27 -56.5t-20.5 -59t-56.5 -27h-6zM236 493q-13 25 -39 38l210 210l51 -25zM196 531q-21 11 -44 10l-9 -1l40 256q21 -10 45 -9l8 1zM560 553l48 311q21 -10 44 -9l10 1l-46 -294zM755 576l-118 60l8 56l135 -68q-20 -20 -25 -48zM781 625l-119 231 q28 5 48 25l119 -231q-28 -5 -48 -25zM306 654l-68 134q28 5 48 25l60 -119zM568 671l-281 143q19 20 24 48l265 -135zM513 771l-51 25l106 107q13 -25 39 -38zM222 795q-32 0 -55.5 22.5t-25 55t21 57.5t56 27t58.5 -20.5t27 -56t-20.5 -58.5t-56.5 -27h-5zM311 863 q2 9 1 18q-1 19 -9 35l256 41q-1 -9 -1 -18q1 -18 10 -35zM646 863q-32 0 -55 22.5t-24.5 55t20.5 58t56 27t59 -21t27 -56t-20.5 -58.5t-56.5 -27h-6z"
            ></path>
          </svg>
        </a>
      </div>
      <!-- Main action buttons -->
      <div
        class="main-actions"
        style="display:flex;gap:1.2rem;margin-bottom:1.5rem;"
      >
        <a
          href="/portfolio"
          class="action-btn accent"
          aria-label="View Portfolio"
        >
          <img
            src="/site_icons/file.svg"
            alt="Portfolio"
            class="svg-ebdbb2 action-svg"
            style="height:1em;width:1em;margin-right:0.5em;vertical-align:middle;"
          />
          View Portfolio
        </a>
        <a href="/blog" class="action-btn dark" aria-label="Read Blog">
          <img
            src="/site_icons/window.svg"
            alt="Blog"
            class="svg-ebdbb2 action-svg"
            style="height:1em;width:1em;margin-right:0.5em;vertical-align:middle;"
          />
          Read Blog
        </a>
      </div>
      <!-- Sub-links -->
      <div
        class="sub-links"
        style="display:flex;gap:2.2rem;justify-content:center;align-items:center;"
      >
        <a href="/about" class="sub-link">
          <img
            src="/site_icons/file.svg"
            alt="About Me"
            class="svg-ebdbb2 sublink-svg"
            style="height:1em;width:1em;margin-right:0.4em;vertical-align:middle;"
          />
          About Me
        </a>
        <a href="/cv" class="sub-link">
          <img
            src="/site_icons/file.svg"
            alt="My CV"
            class="svg-ebdbb2 sublink-svg"
            style="height:1em;width:1em;margin-right:0.4em;vertical-align:middle;"
          />
          My CV
        </a>
        <a href="/contact" class="sub-link">
          <img
            src="/site_icons/mail.svg"
            alt="Contact"
            class="svg-ebdbb2 sublink-svg"
            style="height:1em;width:1em;margin-right:0.4em;vertical-align:middle;"
          />
          Contact
        </a>
      </div>
    </div>
  </div>
  <style>
    /* Remove all filter: invert for SVG icons, keep only for GIF */
    .svg-ebdbb2,
    .social-svg,
    .sublink-svg,
    .action-svg {
      filter: none !important;
      transition: none;
    }
    .social-icon:hover .svg-ebdbb2,
    .social-icon:focus .svg-ebdbb2,
    .action-btn:hover .svg-ebdbb2,
    .action-btn:focus .svg-ebdbb2,
    .sub-link:hover .svg-ebdbb2,
    .sub-link:focus .svg-ebdbb2 {
      filter: none !important;
      transition: none;
    }
    .fediverse-anim .fediverse-svg {
      /* GSAP will animate this icon's transform for centering if JS is enabled */
      transition: transform 0.3s;
    }
    .action-btn {
      display: inline-flex;
      align-items: center;
      font-size: 1.08em;
      font-weight: 600;
      border: none;
      outline: none;
      border-radius: 999px;
      padding: 0.7em 1.6em;
      margin: 0 0.2em;
      box-shadow:
        0 2px 8px 0 rgba(0, 0, 0, 0.1),
        0 1.5px 0 0 #bdae93;
      cursor: pointer;
      transition:
        background 0.18s,
        color 0.18s,
        box-shadow 0.18s;
      background: var(--fg);
      color: var(--bg);
      position: relative;
      z-index: 1;
      gap: 0.5em;
      text-decoration: none;
    }
    .action-btn.accent {
      background: var(--fg);
      color: var(--bg);
    }
    .action-btn.dark {
      background: #232323;
      color: var(--fg);
      border: 1.5px solid #bdae93;
    }
    .action-btn:focus {
      outline: 2px solid var(--accent);
      outline-offset: 2px;
    }
    .action-btn:hover,
    .action-btn:focus {
      background: #d59a21 !important;
      color: var(--bg) !important;
      box-shadow:
        0 4px 16px 0 rgba(0, 0, 0, 0.18),
        0 2px 0 0 #d59a21;
    }
    .action-btn.dark:hover,
    .action-btn.dark:focus {
      background: #3c3836 !important;
      color: #d59a21 !important;
      border-color: #d59a21 !important;
    }
    /* Remove underline from sub-links */
    .sub-link {
      text-decoration: none !important;
    }
    .sub-link:hover,
    .sub-link:focus {
      text-decoration: none !important;
    }
    /* Social icon sizing: all icons proportionate, including fediverse */
    .social-svg {
      width: 2.2em;
      height: 2.2em;
      min-width: 2.2em;
      min-height: 2.2em;
      display: block;
    }
    .social-icon {
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .action-svg,
    .sublink-svg {
      height: 1.2em;
      width: 1.2em;
      min-width: 1.2em;
      min-height: 1.2em;
      display: inline-block;
    }
    /* Force Lucide mail icon to Gruvbox beige */
    .sub-link[href*="contact"] .sublink-svg {
      stroke: #ebdbb2 !important;
      color: #ebdbb2 !important;
    }
    /* Social icon hover: Gruvbox #d59a21 */
    .social-icon:hover .social-svg path,
    .social-icon:focus .social-svg path {
      fill: #d59a21 !important;
      transition: fill 0.18s;
    }
    /* Material button hover: Gruvbox #d59a21 */
    .action-btn:hover,
    .action-btn:focus {
      background: #d59a21 !important;
      color: var(--bg) !important;
      box-shadow:
        0 4px 16px 0 rgba(0, 0, 0, 0.18),
        0 2px 0 0 #d59a21;
    }
    .action-btn.dark:hover,
    .action-btn.dark:focus {
      background: #3c3836 !important;
      color: #d59a21 !important;
      border-color: #d59a21 !important;
    }
    /* Sub-link mail icon hover: Gruvbox #d59a21 */
    .sub-link[href*="contact"]:hover .sublink-svg,
    .sub-link[href*="contact"]:focus .sublink-svg {
      stroke: #d59a21 !important;
      color: #d59a21 !important;
    }
  </style>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"
  ></script>
  <script is:inline>
    // Center the fediverse icon using GSAP and getBBox
    window.addEventListener("DOMContentLoaded", () => {
      const fediverse = document.querySelector(".fediverse-svg");
      if (fediverse && window.gsap) {
        // Wait for SVG to render
        setTimeout(() => {
          try {
            const bbox = fediverse.getBBox();
            const x = (fediverse.clientWidth - bbox.width) / 2 - bbox.x;
            const y = (fediverse.clientHeight - bbox.height) / 2 - bbox.y;
            window.gsap.set(fediverse, { x, y });
          } catch (e) {}
        }, 100);
      }
    });
  </script>
</MainLayout>
